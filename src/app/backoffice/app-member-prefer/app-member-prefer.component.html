<div class="app-member-prefer" furyPage furyPagePadding furyScrollbar>
  <div fxLayout="row" fxLayout="row" fxLayoutAlign="center center">
            <mat-card fxFlex="100%">
                <mat-card-content fxLayout="column">

                    <form [formGroup]="preferform">
                        <div class="container" fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap="8px">適用通路*：
                            <mat-radio-group fxLayout="row" fxLayoutGap="16px" formControlName="channelId" required>
                              <mat-radio-button *ngFor="let data of getChannelId" [value]="data.codeNo">{{ data.codeExplain }}</mat-radio-button>
                            </mat-radio-group>
                            <mat-error *ngIf="preferform.get('channelId').hasError('required')">「適用通路」為必填欄位</mat-error>

                          </div>

                          <div class="container" fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap="8px">偏好* :
                            <mat-radio-group  fxLayout="row" fxLayoutGap="16px" formControlName="likeType" required>
                              <mat-radio-button *ngFor="let data of getPrefer" [value]="data.codeNo">{{data.name}}</mat-radio-button>
                            </mat-radio-group>
                            <mat-error *ngIf="preferform.get('likeType').hasError('required')">「偏好」為必填欄位</mat-error>
                          </div>

                          <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap="8px">
                              <mat-form-field fxFlex>
                                <input type="text" matInput placeholder="生效起日時間" (ngModelChange)= "StartisDefault()" [matDatepicker]="msgStartDate"
                                  formControlName="startDate" required readonly>
                                <mat-datepicker-toggle [for]="msgStartDate" matSuffix></mat-datepicker-toggle>
                                <mat-datepicker #msgStartDate touchUi="true"></mat-datepicker>
                                <mat-error *ngIf="preferform.get('startDate').hasError('required')">「生效起日時間」為必填欄位</mat-error>
                              </mat-form-field>
                              <mat-form-field fxFlex>

                                <input type="text" matInput placeholder="生效迄日時間" (ngModelChange)="EndisDefault()"  required [matDatepicker]="msgEndDate"
                                  formControlName="endDate" readonly>
                                <mat-datepicker-toggle [for]="msgEndDate" matSuffix></mat-datepicker-toggle>
                                <mat-datepicker #msgEndDate touchUi="true"></mat-datepicker>
                                <mat-error *ngIf="preferform.get('endDate').hasError('required')">「生效迄日時間」為必填欄位</mat-error>
                              </mat-form-field>
                            </div>

                    </form>
                    <div fxLayout="row" fxLayoutAlign="end center">
                        <button color="primary"  mat-raised-button  (click)="getData()" type="button"  [disabled]="!(preferform.get('startDate').valid && preferform.get('endDate').valid && preferform.get('channelId').valid && preferform.get('likeType').valid)">
                          下載</button>
                    </div>


                </mat-card-content>
            </mat-card>
  </div>
</div>

<fury-loading-overlay [isLoading]="isLoading"></fury-loading-overlay>
